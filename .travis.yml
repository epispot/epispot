language: python
python: "3.7"

install:
  - pip install -r requirements.txt

script:
  - cd scripts 
  - python docs.py
  - cd ..
  - make -C docs/ html
  - touch docs/_build/html/.nojekyll

after_success:
  - git config --global user.email "builds@travis-ci.com"
  - git config --global user.name "Travis CI"
  - git push origin docs

deploy:
  - provider: pages:git
    verbose: true
    token: $GITHUB_TOKEN
    edge: true
    local_dir: ./docs/build/html/
    keep_history: true